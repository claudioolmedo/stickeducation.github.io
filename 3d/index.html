<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Stick Education Editor</title>
        <link rel="icon" type="image/png" href="image/favicon-32x32.png" sizes="32x32">
        <meta name="description" content="Stick Education Editor - Crie, Compartilhe e Explore Projetos em Palitos de Sorvete">
        <style>
          body { margin: 0; }
          #button-container {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
          }
          .button {
            margin: 5px;
          }
        </style>  
      
        <script src="https://cdn.jsdelivr.net/npm/three@0.124/build/three.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.124/examples/js/controls/OrbitControls.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.124/examples/js/controls/DragControls.js"></script>
      </head>
      
      <body>
	<script src="https://www.gstatic.com/firebasejs/3.7.4/firebase.js"></script>
	<script>
        // Obtém a query string da URL
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString); // Analisa a query string para obter os parâmetro
        const codigo = urlParams.get("p"); // Obtém o valor do parâmetro "p"
        console.log(codigo); // Isso irá exibir "codigo" no console

    </script>
	<script>
		var firebaseConfig = {
            apiKey: "AIzaSyCt0IhN37bwI1Gp4xPBmhq8FY9bgrfrydM",
            authDomain: "stickeducation-27116.firebaseapp.com",
            databaseURL: "https://stickeducation-27116-default-rtdb.firebaseio.com",
            projectId: "stickeducation-27116",
            storageBucket: "stickeducation-27116.appspot.com",
            messagingSenderId: "566576954504",
            appId: "1:566576954504:web:fa4f51202373ba6c30733d"
		};

		firebase.initializeApp(firebaseConfig);
    </script>
     <script>

        // Renderer
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize( window.innerWidth, window.innerHeight );
        document.body.appendChild( renderer.domElement );
    
        // Cena
        const scene = new THREE.Scene();
    
        // Camera
        const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 500);
        camera.position.set(0, 10, 20);
        camera.lookAt(0, 0, 0);
    
        // Controles
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
    
        // Grid
        const grid = new THREE.GridHelper(20, 20);
        scene.add(grid);
     
        // Render
        function render() {
        renderer.render(scene, camera); 
        }

        // Animation
        function animate() {
        requestAnimationFrame(animate);

        controls.update(); // Controls for orbit
        render(); // Renderised
        }

        // Start animation
        animate();

  </script>   
    <script>
		// Referência para o local onde você deseja salvar o dado
		var dataRef = firebase.database().ref(codigo);
		var someData = "a"; // Anonymous
		//dataRef.set(someData);// Salva o dado no Firebase
		dataRef.set(someData);// Salva o dado no Firebase
        console.log("Dado enviado com sucesso!");
	</script>

</body>
</html>
